(this["webpackJsonpaddress-book"]=this["webpackJsonpaddress-book"]||[]).push([[0],{120:function(e,t,n){e.exports=n(150)},150:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),i=n(17),s=n(45),l=n(211),u=n(210),m=n(22),p=n(34),E=n(21),d={INITIALIZE_REQUEST:"".concat("APP","/INITIALIZE_REQUEST"),BOTTOM_REACHED:"".concat("APP","/BOTTOM_REACHED"),MODAL_OPENED:"".concat("APP","/MODAL_OPENED"),MODAL_CLOSED:"".concat("APP","/MODAL_CLOSED"),NATIONALITY_TOGGLE:"".concat("APP","/NATIONALITY_TOGGLE"),NATIONALITY_SET:"".concat("APP","/NATIONALITY_SET"),SEARCH_TEXT_APPLY_STARTED:"".concat("APP","/SEARCH_TEXT_APPLY_STARTED"),SEARCH_TEXT_APPLY_SUCCESS:"".concat("APP","/SEARCH_TEXT_APPLY_SUCCESS"),SEARCH_TEXT_CHANGE:"".concat("APP","/SEARCH_TEXT_CHANGE"),SEARCH_TEXT_SET:"".concat("APP","/SEARCH_TEXT_SET"),USERS_FETCHING_STARTED:"".concat("APP","/USERS_FETCHING_STARTED"),USERS_FETCHING_ERROR:"".concat("APP","/USERS_FETCHING_ERROR"),USERS_FETCHING_SUCCESS:"".concat("APP","/USERS_FETCHING_SUCCESS"),USERS_SHOW_MORE:"".concat("APP","/USERS_SHOW_MORE")},h=500,O=50,b=1e3,f={loading:!1,error:null,users:[],usersCache:[],search:{users:[],processing:!1,searchString:""},modalUser:null,nationalities:{swiss:!0,spanish:!0,french:!0,british:!0}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case d.USERS_SHOW_MORE:return Object(E.a)({},e,{users:[].concat(Object(p.a)(e.users),Object(p.a)(e.usersCache.slice(0,O))),usersCache:Object(p.a)(e.usersCache.slice(O))});case d.USERS_FETCHING_STARTED:return Object(E.a)({},e,{loading:!0,error:f.error});case d.USERS_FETCHING_SUCCESS:return Object(E.a)({},e,{loading:!1,usersCache:a});case d.USERS_FETCHING_ERROR:return Object(E.a)({},e,{loading:!1,error:a});case d.MODAL_OPENED:return Object(E.a)({},e,{modalUser:a});case d.MODAL_CLOSED:return Object(E.a)({},e,{modalUser:null});case d.SEARCH_TEXT_SET:return Object(E.a)({},e,{search:Object(E.a)({},e.search,{searchString:a})});case d.SEARCH_TEXT_APPLY_STARTED:return Object(E.a)({},e,{search:Object(E.a)({},e.search,{processing:!0})});case d.SEARCH_TEXT_APPLY_SUCCESS:return Object(E.a)({},e,{search:Object(E.a)({},e.search,{processing:!1,users:a})});case d.NATIONALITY_SET:return Object(E.a)({},e,{loading:f.loading,search:f.search,users:f.users,usersCache:f.usersCache,nationalities:Object(E.a)({},e.nationalities,Object(m.a)({},a,!e.nationalities[a]))});default:return e}},v=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.app.loading})),n=Object(i.c)((function(e){return e.app.search.processing})),a=Object(i.c)((function(e){return e.app.search.searchString})),r=Object(i.c)((function(e){return e.app.search.users}));return{foundUsers:r,disabled:t,processing:n,searchText:a,showResults:!!(null===r||void 0===r?void 0:r.length)||!!a.length,doSetSearchText:function(t){e(function(e){return{type:d.SEARCH_TEXT_CHANGE,payload:e}}(t))}}},S=n(53),j=n(41),T=n(208),C=n(214),_=n(194),x=n(209),A=n(107),R=n(102),y=n.n(R),N=function(){var e=Object(i.b)();return{user:Object(i.c)((function(e){return e.app.modalUser})),doOpenModal:Object(a.useCallback)((function(t){e(function(e){return{type:d.MODAL_OPENED,payload:e}}(t))}),[e]),doCloseModal:Object(a.useCallback)((function(){e({type:d.MODAL_CLOSED})}),[e])}},I=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.app.users})),n=Object(i.c)((function(e){return e.app.usersCache})),r=Object(i.c)((function(e){return e.app.loading})),c=Object(i.c)((function(e){return e.app.error})),o=(null===t||void 0===t?void 0:t.length)<b;return Object(a.useEffect)((function(){e({type:d.INITIALIZE_REQUEST})}),[e]),console.log("usersCache",null===n||void 0===n?void 0:n.length),console.log("users",null===t||void 0===t?void 0:t.length),{doRequestMore:function(){e({type:d.BOTTOM_REACHED})},error:c,hasMore:o,loading:r,users:t}},k=n(195),w=n(212),P=n(217),M=function(e){var t=e.action,n=e.message,a=e.open,c=e.severity,o=Object(S.a)(e,["action","message","open","severity"]);return r.a.createElement(P.a,Object.assign({},o,{open:a}),r.a.createElement(w.a,{variant:"filled",severity:c,action:t},n))},L=function(e){var t=e.open;return r.a.createElement(M,{action:r.a.createElement(k.a,{color:"inherit",variant:"outlined",size:"medium",onClick:function(){window.location.reload()}},"Reload app"),open:t,message:"Error occurred, please click button to reload app",severity:"error"})},H=function(e){var t=e.message,n=e.open;return r.a.createElement(M,{open:n,message:t,severity:"info"})},U=n(197),D=n(199),G=n(201),F=n(200),W=n(216),X=n(198),Y=n(196),B=n(72),z=n.n(B),Q=n(98),Z=n.n(Q),q=n(71),J=n.n(q),K=n(97),V=n.n(K),$=n(96),ee=n.n($),te=function(e){var t=e.text;return r.a.createElement(A.a,{variant:"body2",color:"textSecondary",component:"p"},t)},ne=function(e){var t=e.IconComponent,n=e.CustomContent,a=e.text,c=Object(S.a)(e,["IconComponent","CustomContent","text"]);return r.a.createElement(Y.a,Object.assign({container:!0},c),r.a.createElement(Y.a,{item:!0,xs:2},t),r.a.createElement(Y.a,{item:!0,xs:10},a?r.a.createElement(te,{text:a}):n))},ae=Object(U.a)((function(e){var t;return{card:{borderRadius:0},media:(t={height:200},Object(m.a)(t,e.breakpoints.up("sm"),{height:260}),Object(m.a)(t,e.breakpoints.up("md"),{height:300}),Object(m.a)(t,e.breakpoints.up("lg"),{height:340}),t),content:Object(m.a)({margin:e.spacing(1)},e.breakpoints.up("sm"),{margin:e.spacing(2)})}})),re=Object(a.memo)((function(e){var t=e.user,n=e.onCloseModal,c=ae(),o=Object(a.useMemo)((function(){return Boolean(t)}),[t]),i=Object(a.useMemo)((function(){var e,n,a;return"".concat(null===t||void 0===t||null===(e=t.name)||void 0===e?void 0:e.title," ").concat(null===t||void 0===t||null===(n=t.name)||void 0===n?void 0:n.first," ").concat(null===t||void 0===t||null===(a=t.name)||void 0===a?void 0:a.last)}),[t]);return t?r.a.createElement(W.a,{fullWidth:!0,maxWidth:"xs",onClose:n,"aria-labelledby":"user-dialog-title",open:o},r.a.createElement(X.a,{id:"user-dialog-title"},"Details"),r.a.createElement(D.a,{className:c.card},r.a.createElement(F.a,{className:c.media,image:t.picture.large,title:"".concat(i," face photo")}),r.a.createElement(G.a,{className:c.content},r.a.createElement(A.a,{gutterBottom:!0,variant:"h4",component:"h2"},i),r.a.createElement(ne,{IconComponent:r.a.createElement(J.a,{color:"primary"}),text:t.login.username}),r.a.createElement(ne,{IconComponent:r.a.createElement(z.a,{color:"primary"}),text:t.email}),r.a.createElement(ne,{IconComponent:r.a.createElement(ee.a,{color:"primary"}),text:t.phone}),r.a.createElement(ne,{IconComponent:r.a.createElement(V.a,{color:"primary"}),text:t.cell}),r.a.createElement(ne,{alignItems:"center",IconComponent:r.a.createElement(Z.a,{color:"primary"}),CustomContent:r.a.createElement(Y.a,{container:!0,direction:"column"},r.a.createElement(Y.a,{item:!0,xs:!0},r.a.createElement(te,{text:"".concat(t.location.street.name," ").concat(t.location.street.number)})),r.a.createElement(Y.a,{item:!0,xs:!0},r.a.createElement(te,{text:"".concat(t.location.postcode," ").concat(t.location.city," ")})),r.a.createElement(Y.a,{item:!0,xs:!0},r.a.createElement(te,{text:"".concat(t.location.state," / ").concat(t.location.country)})))})))):null}),(function(e,t){return e.user===t.user})),ce=n(99),oe=n.n(ce),ie=n(202),se=Object(U.a)((function(e){var t;return{root:{maxWidth:260},media:(t={height:80},Object(m.a)(t,e.breakpoints.up("sm"),{height:100}),Object(m.a)(t,e.breakpoints.up("md"),{height:120}),Object(m.a)(t,e.breakpoints.up("lg"),{height:150}),t)}})),le=Object(a.memo)((function(e){var t=e.user,n=e.onOpenModal,c=se(),o=Object(a.useMemo)((function(){return"".concat(null===t||void 0===t?void 0:t.name.first," ").concat(null===t||void 0===t?void 0:t.name.last)}),[t]);return r.a.createElement(D.a,{className:c.root},r.a.createElement(ie.a,{onClick:function(){n(t)}},r.a.createElement(F.a,{className:c.media,image:null===t||void 0===t?void 0:t.picture.large,title:"".concat(o," face photo")}),r.a.createElement(G.a,null,r.a.createElement(A.a,{gutterBottom:!0,variant:"h5",component:"h2"},o),r.a.createElement(Y.a,{container:!0,justify:"flex-start",alignItems:"stretch"},r.a.createElement(Y.a,{item:!0,xs:3,md:2},r.a.createElement(J.a,{color:"primary"})),r.a.createElement(Y.a,{item:!0,xs:9,md:10,zeroMinWidth:!0},r.a.createElement(A.a,{noWrap:!0,variant:"body2",color:"textSecondary",component:"p"},null===t||void 0===t?void 0:t.login.username))),r.a.createElement(Y.a,{container:!0},r.a.createElement(Y.a,{item:!0,xs:3,md:2},r.a.createElement(z.a,{color:"primary"})),r.a.createElement(Y.a,{item:!0,xs:9,md:10,zeroMinWidth:!0},r.a.createElement(A.a,{noWrap:!0,variant:"body2",color:"textSecondary",component:"p"},null===t||void 0===t?void 0:t.email))))))}),(function(e,t){return e.user===t.user})),ue=Object(a.memo)((function(e){var t=e.users,n=e.onOpenModal;return r.a.createElement(Y.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:4},null===t||void 0===t?void 0:t.map((function(e,t){return r.a.createElement(Y.a,{item:!0,key:e.id.value,xs:6,sm:4,md:3,lg:2},t,r.a.createElement(le,{user:e,onOpenModal:n}))})))}),(function(e,t){return e.users===t.users})),me=function(e){var t=e.className,n=e.message;return r.a.createElement(Y.a,{className:t,container:!0,justify:"center",alignItems:"center",spacing:4},r.a.createElement(Y.a,{item:!0},r.a.createElement(A.a,{variant:"h4",color:"textSecondary"},n)))},pe=Object(U.a)((function(e){return{root:{padding:"0 ".concat(e.spacing(4),"px")},messageEmpty:{marginTop:e.spacing(4)}}})),Ee=Object(a.memo)((function(e){var t=e.users,n=e.onOpenModal,c=pe(),o=Object(a.useCallback)((function(){window.scroll(0,0)}),[]);return Object(a.useEffect)((function(){o()}),[t,o]),r.a.createElement(l.a,{className:c.root},r.a.createElement(ue,{users:t,onOpenModal:n}),!(null===t||void 0===t?void 0:t.length)&&r.a.createElement(me,{className:c.messageEmpty,message:"No matching results"}))}),(function(e,t){return e.users===t.users})),de=Object(U.a)((function(e){return{root:{margin:e.spacing(4)},catalogEnd:{marginTop:e.spacing(4)}}})),he=Object(a.memo)((function(e){var t=e.hasMore,n=e.users,c=e.usersSearched,o=e.showSearchResults,i=e.onOpenModal,s=e.onLoadMore,l=de(),u=Object(a.useMemo)((function(){return o?{display:"none"}:{}}),[o]);return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(Ee,{users:c,onOpenModal:i}),r.a.createElement(oe.a,{className:l.root,style:u,loadMore:s,hasMore:t,threshold:500},r.a.createElement(ue,{users:n,onOpenModal:i}),!t&&r.a.createElement(me,{className:l.catalogEnd,message:"End of users catalog"})))}),(function(e,t){return e.users===t.users&&e.usersSearched===t.usersSearched})),Oe=function(){var e=N(),t=e.user,n=e.doOpenModal,a=e.doCloseModal,c=I(),o=c.error,i=c.hasMore,s=c.loading,l=c.users,u=c.doRequestMore,m=v(),p=m.processing,E=m.foundUsers,d=m.showResults;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{open:o}),r.a.createElement(H,{open:s,message:"Loading ... "}),r.a.createElement(H,{open:p,message:"Searching ... "}),r.a.createElement(re,{user:t,onCloseModal:a}),r.a.createElement(he,{hasMore:i,users:l,usersSearched:E,showSearchResults:d,onLoadMore:u,onOpenModal:n}))},be=function(){var e=Object(i.b)();return{nationalities:Object(i.c)((function(e){return e.app.nationalities})),doToggleNationality:function(t){return e({type:d.NATIONALITY_TOGGLE,payload:t})}}},fe=n(204),ge=n(207),ve=n(205),Se=n(206),je=n(203),Te=n(218),Ce=function(e){var t=e.checked,n=e.handleChange,a=e.name,c=a.charAt(0).toUpperCase()+a.substring(1);return r.a.createElement(je.a,{control:r.a.createElement(Te.a,{checked:t,onChange:n,name:a}),label:c})},_e=function(e){var t=e.nationalities,n=e.onToggleNationality,c=function(e){n(e.target.name)},o=Object(a.useMemo)((function(){return{maxWidth:400}}),[]);return r.a.createElement(fe.a,{component:"fieldset"},r.a.createElement(ve.a,{component:"legend"},"Select nationalities"),r.a.createElement(Se.a,null,Object.keys(t).map((function(e){return r.a.createElement(Ce,{key:e,checked:t[e],handleChange:c,name:e})}))),r.a.createElement(ge.a,{style:o},"Please choose at least 1 nationality. Remember that if you toggle any switch, all previously loaded data on main page will be removed."))},xe=Object(U.a)((function(e){return{textWrapper:{marginTop:20,marginBottom:40},switchesWrapper:{margin:"0 ".concat(e.spacing(4),"px")}}})),Ae=function(){var e=xe(),t=be(),n=t.nationalities,a=t.doToggleNationality;return r.a.createElement(Y.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(Y.a,{className:e.textWrapper,item:!0},r.a.createElement(A.a,{variant:"h5",color:"inherit"},"Settings")),r.a.createElement(Y.a,{className:e.switchesWrapper,item:!0},r.a.createElement(_e,{nationalities:n,onToggleNationality:a})))},Re=Object(U.a)({root:{height:200},text:{margin:"0 30px"}}),ye=function(){var e=Re();return r.a.createElement(Y.a,{className:e.root,container:!0,justify:"center",alignItems:"center"},r.a.createElement(Y.a,{item:!0},r.a.createElement(A.a,{className:e.text,variant:"h4",color:"textSecondary"},"404 Page Not Found :(")))},Ne="/",Ie="/settings",ke=function(){return r.a.createElement(j.c,null,r.a.createElement(j.a,{path:Ne,component:Oe,exact:!0}),r.a.createElement(j.a,{path:Ie,component:Ae}),r.a.createElement(j.a,{component:ye}))},we=n(74),Pe=function(){var e=Object(a.useState)(null),t=Object(we.a)(e,2),n=t[0],r=t[1];return{anchorEl:n,isOpen:Boolean(n),handleClose:function(){r(null)},handleOpen:function(e){r(e.currentTarget)}}},Me=n(215),Le=n(220),He=function(e){var t=e.anchorEl,n=e.handleClose,c=e.isOpen,o=Object(a.useMemo)((function(){return{vertical:"top",horizontal:"left"}}),[]);return r.a.createElement(Me.a,{anchorEl:t,anchorOrigin:o,keepMounted:!0,transformOrigin:o,open:c,onClose:n},r.a.createElement(Le.a,{onClick:n,component:s.b,to:Ne},"Users Gallery"),r.a.createElement(Le.a,{onClick:n,component:s.b,to:Ie},"Settings"))},Ue=n(16),De=n(221),Ge=n(101),Fe=n.n(Ge),We=Object(U.a)((function(e){return{search:Object(m.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ue.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ue.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(m.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"30ch"})}})),Xe=function(e){var t=e.disabled,n=e.text,a=e.onTextChange,c=We();return r.a.createElement("div",{className:c.search},r.a.createElement("div",{className:c.searchIcon},r.a.createElement(Fe.a,null)),r.a.createElement(De.a,{classes:{root:c.inputRoot,input:c.inputInput},disabled:t,inputProps:{"aria-label":"search"},placeholder:"Search by full name",value:n,onChange:a}))},Ye=function(e){var t=e.searchDisabled,n=e.searchText,a=e.onSearchChange,c=Object(S.a)(e,["searchDisabled","searchText","onSearchChange"]),o=Pe(),i=o.anchorEl,s=o.isOpen,l=o.handleClose,u=o.handleOpen,m=Object(j.f)().pathname===Ne;return r.a.createElement(T.a,Object.assign({position:"fixed"},c),r.a.createElement(He,{anchorEl:i,handleClose:l,isOpen:s}),r.a.createElement(x.a,null,r.a.createElement(_.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:u},r.a.createElement(y.a,null)),r.a.createElement(C.a,{only:"xs"},r.a.createElement(A.a,{variant:"h6",color:"inherit"},"Address Book")),m&&r.a.createElement(Xe,{text:n,disabled:t,onTextChange:function(e){a(e.target.value)}})))},Be=n(32),ze=function(){return Object(Be.c)({app:g})},Qe=(n(103),n(105)),Ze=n(18),qe=n.n(Ze),Je=n(10),Ke=n(104),Ve=n.n(Ke),$e="https://randomuser.me/api/",et=["name","location","email","login","phone","cell","id","picture","nat"],tt={british:"GB",french:"FR",spanish:"ES",swiss:"CH"},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nationalities,n=void 0===t?[]:t,a=e.usersCount,r=void 0===a?1:a,c=e.takeKeys,o=void 0===c?et:c,i=n.map((function(e){var t=tt[e];return!t&&console.warn("No API mapping for nationality:",e),t})),s=null===i||void 0===i?void 0:i.filter(Boolean).join(",");return Ve.a.get($e,{params:Object(E.a)({},o&&{inc:o.join(",")},{},r&&{results:r},{},s&&{nat:s})}).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.results})).catch((function(e){return Promise.reject(e)}))},at=qe.a.mark(pt),rt=qe.a.mark(Et),ct=qe.a.mark(dt),ot=qe.a.mark(ht),it=qe.a.mark(Ot),st=qe.a.mark(bt),lt=qe.a.mark(ft),ut=qe.a.mark(gt),mt=qe.a.mark(vt);function pt(e){var t,n,a,r;return qe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.next=3,Object(Je.h)((function(e){return e.app.nationalities}));case 3:if(n=c.sent,a=!n[t],r=Object.values(n).filter(Boolean).length,!(a||r>1)){c.next=9;break}return c.next=9,Object(Je.f)({type:d.NATIONALITY_SET,payload:t});case 9:case"end":return c.stop()}}),at)}function Et(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Je.j)(d.NATIONALITY_TOGGLE,pt);case 2:case"end":return e.stop()}}),rt)}function dt(e){var t,n,a,r;return qe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(Je.f)({type:d.SEARCH_TEXT_SET,payload:e});case 2:return c.next=4,Object(Je.f)({type:d.SEARCH_TEXT_APPLY_STARTED});case 4:if(!(null===e||void 0===e?void 0:e.length)){c.next=7;break}return c.next=7,Object(Je.d)(h);case 7:return c.next=9,Object(Je.h)((function(e){return e.app.users}));case 9:return t=c.sent,c.next=12,Object(Je.h)((function(e){return e.app.search.searchString}));case 12:return n=c.sent,a=t.filter((function(e){var t,a=null===(t="".concat(null===e||void 0===e?void 0:e.name.first," ").concat(null===e||void 0===e?void 0:e.name.last))||void 0===t?void 0:t.toLowerCase(),r=null===n||void 0===n?void 0:n.toLowerCase();return null===a||void 0===a?void 0:a.includes(r)})),r=(null===n||void 0===n?void 0:n.length)?a:[],c.next=17,Object(Je.f)({type:d.SEARCH_TEXT_APPLY_SUCCESS,payload:r});case 17:case"end":return c.stop()}}),ct)}function ht(){var e,t,n;return qe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(Je.i)(d.SEARCH_TEXT_CHANGE);case 3:if(t=a.sent,n=t.payload,!e){a.next=8;break}return a.next=8,Object(Je.c)(e);case 8:return a.next=10,Object(Je.e)(dt,n);case 10:e=a.sent,a.next=0;break;case 13:case"end":return a.stop()}}),ot)}function Ot(){var e,t,n;return qe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Je.f)({type:d.USERS_FETCHING_STARTED});case 2:return a.next=4,Object(Je.h)((function(e){return e.app.nationalities}));case 4:return e=a.sent,t=Object.keys(e).filter((function(t){return e[t]})),a.prev=6,a.next=9,Object(Je.b)(nt,{usersCount:O,nationalities:t});case 9:return n=a.sent,console.log("FETCHED USERS:",n),a.next=13,Object(Je.f)({type:d.USERS_FETCHING_SUCCESS,payload:n});case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(6),a.next=19,Object(Je.f)({type:d.USERS_FETCHING_ERROR,payload:a.t0});case 19:case"end":return a.stop()}}),it,null,[[6,15]])}function bt(){var e,t,n,a;return qe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Je.h)((function(e){return e.app.users}));case 2:return e=r.sent,r.next=5,Object(Je.h)((function(e){return e.app.usersCache}));case 5:return t=r.sent,n=(null===e||void 0===e?void 0:e.length)+(null===t||void 0===t?void 0:t.length)<b,a=[].concat(Object(p.a)(n?[Object(Je.e)(Ot)]:[]),[Object(Je.f)({type:d.USERS_SHOW_MORE})],Object(p.a)(n?[]:[Object(Je.f)({type:d.USERS_FETCHING_SUCCESS,payload:[]})])),r.next=10,Object(Je.a)(a);case 10:case"end":return r.stop()}}),st)}function ft(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(Je.a)([Object(Je.i)(d.USERS_FETCHING_SUCCESS),Object(Je.i)(d.BOTTOM_REACHED)]);case 3:return e.next=5,Object(Je.e)(bt);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),lt)}function gt(){var e,t,n,a,r;return qe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,Object(Je.g)([Object(Je.i)(d.INITIALIZE_REQUEST),Object(Je.i)(d.NATIONALITY_SET)]);case 3:if(e=c.sent,t=Object(we.a)(e,2),n=t[0],!t[1]){c.next=9;break}return c.abrupt("return");case 9:if(!n){c.next=19;break}return c.next=12,Object(Je.h)((function(e){return e.app.users}));case 12:return a=c.sent,c.next=15,Object(Je.h)((function(e){return e.app.usersCache}));case 15:if(r=c.sent,a.length||r.length){c.next=19;break}return c.next=19,Object(Je.e)(Ot);case 19:c.next=0;break;case 21:case"end":return c.stop()}}),ut)}function vt(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Je.a)([gt(),ft(),Et(),ht()]);case 2:case"end":return e.stop()}}),mt)}var St=Object(Qe.a)(),jt=function(){var e=[St];return{middlewares:e,startRootSaga:function(){St.run(vt)}}},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Be.d,n=jt(),a=n.middlewares,r=n.startRootSaga,c=Object(Be.e)(ze(),e,t(Be.a.apply(void 0,Object(p.a)(a))));return r(),c}(),Ct=function(e){var t=v(),n=t.disabled,a=t.searchText,c=t.doSetSearchText;return r.a.createElement(Ye,Object.assign({},e,{searchDisabled:n,searchText:a,onSearchChange:c}))},_t=function(){var e=Object(a.useMemo)((function(){return{marginTop:80}}),[]);return r.a.createElement(i.a,{store:Tt},r.a.createElement(s.a,{basename:"/address-book"},r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null),r.a.createElement(Ct,null),r.a.createElement(l.a,{style:e},r.a.createElement(ke,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(_t,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[120,1,2]]]);
//# sourceMappingURL=main.0c0edfe1.chunk.js.map