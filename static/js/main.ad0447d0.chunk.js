(this["webpackJsonpaddress-book"]=this["webpackJsonpaddress-book"]||[]).push([[0],{128:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),s=n(33),i=n(39),u=n(171),l=n(170),E=n(71),d=n(68),p=n(37),O=n(166),S=n(173),h=n(168),f=n(167),b=n(169),T=n(88),_=n.n(T),C=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(6)]).then(n.bind(null,220))})),m=Object(a.lazy)((function(){return Promise.all([n.e(4),n.e(7)]).then(n.bind(null,222))})),j=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,226))})),A="/",R="/settings",g=function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(p.c,null,r.a.createElement(p.a,{path:A,component:C,exact:!0}),r.a.createElement(p.a,{path:R,component:m}),r.a.createElement(p.a,{component:j})))},v=n(59),P=function(){var e=Object(a.useState)(null),t=Object(v.a)(e,2),n=t[0],r=t[1];return{anchorEl:n,isOpen:Boolean(n),handleClose:function(){r(null)},handleOpen:function(e){r(e.currentTarget)}}},x=n(174),I=n(176),N=function(e){var t=e.anchorEl,n=e.handleClose,c=e.open,o=Object(a.useMemo)((function(){return{vertical:"top",horizontal:"left"}}),[]);return r.a.createElement(x.a,{anchorEl:t,anchorOrigin:o,keepMounted:!0,transformOrigin:o,open:c,onClose:n},r.a.createElement(I.a,{onClick:n,component:i.b,to:A},"Users Gallery"),r.a.createElement(I.a,{onClick:n,component:i.b,to:R},"Settings"))},U=n(38),L=n(165),H=n(32),w=n(177),y=n(87),k=n.n(y),D=Object(L.a)((function(e){return{search:Object(U.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(H.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(H.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(U.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"30ch"})}})),G=function(e){var t=e.disabled,n=e.text,a=e.onTextChange,c=D();return r.a.createElement("div",{className:c.search},r.a.createElement("div",{className:c.searchIcon},r.a.createElement(k.a,null)),r.a.createElement(w.a,{classes:{root:c.inputRoot,input:c.inputInput},disabled:t,inputProps:{"aria-label":"search"},placeholder:"Search by full name",value:n,onChange:a}))},M=function(e){var t=e.searchDisabled,n=e.searchText,a=e.onSearchChange,c=Object(d.a)(e,["searchDisabled","searchText","onSearchChange"]),o=P(),s=o.anchorEl,i=o.isOpen,u=o.handleClose,l=o.handleOpen,E=Object(p.f)().pathname===A;return r.a.createElement(O.a,Object.assign({position:"fixed"},c),r.a.createElement(N,{anchorEl:s,handleClose:u,open:i}),r.a.createElement(f.a,null,r.a.createElement(h.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:l},r.a.createElement(_.a,null)),r.a.createElement(S.a,{only:"xs"},r.a.createElement(b.a,{variant:"h6",color:"inherit"},"Address Book")),E&&r.a.createElement(G,{text:n,disabled:t,onTextChange:function(e){a(e.target.value)}})))},X=n(31),Y=n(29),F=n(27),B=function(){return Object(Y.c)({app:F.b})},W=(n(89),n(90)),K=Object(W.a)(),z=function(){var e=[K];return{middlewares:e,startRootSaga:function(){K.run(F.g)}}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,n=z(),a=n.middlewares,r=n.startRootSaga,c=Object(Y.e)(B(),e,t(Y.a.apply(void 0,Object(X.a)(a))));return r(),c}(),Z=function(e){var t=Object(E.a)(),n=t.disabled,a=t.searchText,c=t.doSetSearchText;return r.a.createElement(M,Object.assign({},e,{searchDisabled:n,searchText:a,onSearchChange:c}))},J=function(){var e=Object(a.useMemo)((function(){return{marginTop:80}}),[]);return r.a.createElement(s.a,{store:Q},r.a.createElement(i.a,{basename:"/address-book"},r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null),r.a.createElement(Z,null),r.a.createElement(u.a,{style:e},r.a.createElement(g,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},27:function(e,t,n){"use strict";n.d(t,"c",(function(){return Z})),n.d(t,"d",(function(){return q})),n.d(t,"e",(function(){return Q})),n.d(t,"f",(function(){return J})),n.d(t,"h",(function(){return V})),n.d(t,"q",(function(){return $})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return T})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return A})),n.d(t,"p",(function(){return R})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return z})),n.d(t,"g",(function(){return B}));var a=n(59),r=n(31),c=n(14),o=n.n(c),s=n(7),i={INITIALIZE_REQUEST:"".concat("APP","/INITIALIZE_REQUEST"),BOTTOM_REACHED:"".concat("APP","/BOTTOM_REACHED"),MODAL_OPENED:"".concat("APP","/MODAL_OPENED"),MODAL_CLOSED:"".concat("APP","/MODAL_CLOSED"),NATIONALITY_TOGGLE:"".concat("APP","/NATIONALITY_TOGGLE"),NATIONALITY_SET:"".concat("APP","/NATIONALITY_SET"),SEARCH_TEXT_APPLY_STARTED:"".concat("APP","/SEARCH_TEXT_APPLY_STARTED"),SEARCH_TEXT_APPLY_SUCCESS:"".concat("APP","/SEARCH_TEXT_APPLY_SUCCESS"),SEARCH_TEXT_CHANGE:"".concat("APP","/SEARCH_TEXT_CHANGE"),SEARCH_TEXT_SET:"".concat("APP","/SEARCH_TEXT_SET"),USERS_FETCHING_STARTED:"".concat("APP","/USERS_FETCHING_STARTED"),USERS_FETCHING_ERROR:"".concat("APP","/USERS_FETCHING_ERROR"),USERS_FETCHING_SUCCESS:"".concat("APP","/USERS_FETCHING_SUCCESS"),USERS_SHOW_MORE:"".concat("APP","/USERS_SHOW_MORE")},u={SEARCH_DELAY_MS:500,USERS_PER_TICK:50,USERS_MAX_COUNT:1e3},l=n(17),E=n(85),d=n.n(E),p="https://randomuser.me/api/",O=["name","location","email","login","phone","cell","id","picture","nat"],S={british:"GB",french:"FR",polish:"PL",spanish:"ES",swiss:"CH"},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nationalities,n=void 0===t?[]:t,a=e.page,r=e.seed,c=void 0===r?"s3c0nDD":r,o=e.takeKeys,s=void 0===o?O:o,i=e.usersCount,u=void 0===i?1:i,E=n.map((function(e){var t=S[e];return!t&&console.warn("No API mapping for nationality:",e),t})),h=null===E||void 0===E?void 0:E.filter(Boolean).join(",");return d.a.get(p,{params:Object(l.a)({},s&&{inc:s.join(",")},{},u&&{results:u},{},h&&{nat:h},{},c&&{seed:c,page:a})}).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.results})).catch((function(e){return Promise.reject(e)}))},f=function(e){return e.app.error},b=function(e){return e.app.loading},T=function(e){return e.app.modalUser},_=function(e){return e.app.nationalities},C=function(e){return e.app.usersPage},m=function(e){return e.app.search.processing},j=function(e){return e.app.search.searchString},A=function(e){return e.app.search.users},R=function(e){return e.app.users},g=function(e){return e.app.usersCache},v=o.a.mark(y),P=o.a.mark(k),x=o.a.mark(D),I=o.a.mark(G),N=o.a.mark(M),U=o.a.mark(X),L=o.a.mark(Y),H=o.a.mark(F),w=o.a.mark(B);function y(e){var t,n,a,r;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.next=3,Object(s.h)(_);case 3:if(n=c.sent,a=!n[t],r=Object.values(n).filter(Boolean).length,!(a||r>1)){c.next=9;break}return c.next=9,Object(s.f)({type:i.NATIONALITY_SET,payload:t});case 9:case"end":return c.stop()}}),v)}function k(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.j)(i.NATIONALITY_TOGGLE,y);case 2:case"end":return e.stop()}}),P)}function D(e){var t,n,a,r;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(s.f)({type:i.SEARCH_TEXT_SET,payload:e});case 2:return c.next=4,Object(s.f)({type:i.SEARCH_TEXT_APPLY_STARTED});case 4:if(!(null===e||void 0===e?void 0:e.length)){c.next=7;break}return c.next=7,Object(s.d)(u.SEARCH_DELAY_MS);case 7:return c.next=9,Object(s.h)(R);case 9:return t=c.sent,c.next=12,Object(s.h)(j);case 12:return n=c.sent,a=t.filter((function(e){var t,a=null===(t="".concat(null===e||void 0===e?void 0:e.name.first," ").concat(null===e||void 0===e?void 0:e.name.last))||void 0===t?void 0:t.toLowerCase(),r=null===n||void 0===n?void 0:n.toLowerCase();return null===a||void 0===a?void 0:a.includes(r)})),r=(null===n||void 0===n?void 0:n.length)?a:[],c.next=17,Object(s.f)({type:i.SEARCH_TEXT_APPLY_SUCCESS,payload:r});case 17:case"end":return c.stop()}}),x)}function G(){var e,t,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(s.i)(i.SEARCH_TEXT_CHANGE);case 3:if(t=a.sent,n=t.payload,!e){a.next=8;break}return a.next=8,Object(s.c)(e);case 8:return a.next=10,Object(s.e)(D,n);case 10:e=a.sent,a.next=0;break;case 13:case"end":return a.stop()}}),I)}function M(){var e,t,n,a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.f)({type:i.USERS_FETCHING_STARTED});case 2:return r.next=4,Object(s.h)(C);case 4:return e=r.sent,r.next=7,Object(s.h)(_);case 7:return t=r.sent,n=Object.keys(t).filter((function(e){return t[e]})),r.prev=9,r.next=12,Object(s.b)(h,{usersCount:u.USERS_PER_TICK,nationalities:n,page:e});case 12:return a=r.sent,r.next=15,Object(s.f)({type:i.USERS_FETCHING_SUCCESS,payload:a});case 15:r.next=21;break;case 17:return r.prev=17,r.t0=r.catch(9),r.next=21,Object(s.f)({type:i.USERS_FETCHING_ERROR,payload:r.t0});case 21:case"end":return r.stop()}}),N,null,[[9,17]])}function X(){var e,t,n,a;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(s.h)(R);case 2:return e=c.sent,c.next=5,Object(s.h)(g);case 5:return t=c.sent,n=(null===e||void 0===e?void 0:e.length)+(null===t||void 0===t?void 0:t.length)<u.USERS_MAX_COUNT,a=[].concat(Object(r.a)(n?[Object(s.e)(M)]:[]),[Object(s.f)({type:i.USERS_SHOW_MORE})],Object(r.a)(n?[]:[Object(s.f)({type:i.USERS_FETCHING_SUCCESS,payload:[]})])),c.next=10,Object(s.a)(a);case 10:case"end":return c.stop()}}),U)}function Y(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(s.a)([Object(s.i)(i.USERS_FETCHING_SUCCESS),Object(s.i)(i.BOTTOM_REACHED)]);case 3:return e.next=5,Object(s.e)(X);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),L)}function F(){var e,t,n,r,c;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,Object(s.g)([Object(s.i)(i.INITIALIZE_REQUEST),Object(s.i)(i.NATIONALITY_SET)]);case 3:if(e=o.sent,t=Object(a.a)(e,2),n=t[0],!t[1]){o.next=9;break}return o.abrupt("return");case 9:if(!n){o.next=19;break}return o.next=12,Object(s.h)((function(e){return e.app.users}));case 12:return r=o.sent,o.next=15,Object(s.h)((function(e){return e.app.usersCache}));case 15:if(c=o.sent,r.length||c.length){o.next=19;break}return o.next=19,Object(s.e)(M);case 19:o.next=0;break;case 21:case"end":return o.stop()}}),H)}function B(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([F(),Y(),k(),G()]);case 2:case"end":return e.stop()}}),w)}var W=n(38),K={loading:!1,error:null,users:[],usersPage:1,usersCache:[],search:{users:[],processing:!1,searchString:""},modalUser:null,nationalities:{swiss:!0,spanish:!0,french:!0,british:!0}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case i.USERS_SHOW_MORE:return Object(l.a)({},e,{users:[].concat(Object(r.a)(e.users),Object(r.a)(e.usersCache.slice(0,u.USERS_PER_TICK))),usersCache:Object(r.a)(e.usersCache.slice(u.USERS_PER_TICK))});case i.USERS_FETCHING_STARTED:return Object(l.a)({},e,{loading:!0,error:K.error});case i.USERS_FETCHING_SUCCESS:return Object(l.a)({},e,{loading:!1,usersCache:a,usersPage:e.usersPage+1});case i.USERS_FETCHING_ERROR:return Object(l.a)({},e,{loading:!1,error:a});case i.MODAL_OPENED:return Object(l.a)({},e,{modalUser:a});case i.MODAL_CLOSED:return Object(l.a)({},e,{modalUser:null});case i.SEARCH_TEXT_SET:return Object(l.a)({},e,{search:Object(l.a)({},e.search,{searchString:a})});case i.SEARCH_TEXT_APPLY_STARTED:return Object(l.a)({},e,{search:Object(l.a)({},e.search,{processing:!0})});case i.SEARCH_TEXT_APPLY_SUCCESS:return Object(l.a)({},e,{search:Object(l.a)({},e.search,{processing:!1,users:a})});case i.NATIONALITY_SET:return Object(l.a)({},e,{loading:K.loading,users:K.users,usersCache:K.usersCache,usersPage:K.usersPage,search:K.search,modalUser:K.modalUser,nationalities:Object(l.a)({},e.nationalities,Object(W.a)({},a,!e.nationalities[a]))});default:return e}},Q=function(){return{type:i.INITIALIZE_REQUEST}},Z=function(){return{type:i.BOTTOM_REACHED}},J=function(e){return{type:i.MODAL_OPENED,payload:e}},q=function(){return{type:i.MODAL_CLOSED}},V=function(e){return{type:i.SEARCH_TEXT_CHANGE,payload:e}},$=function(e){return{type:i.NATIONALITY_TOGGLE,payload:e}}},71:function(e,t,n){"use strict";var a=n(33),r=n(27);t.a=function(){var e=Object(a.b)(),t=Object(a.c)(r.j),n=Object(a.c)(r.m),c=Object(a.c)(r.n),o=Object(a.c)(r.o);return{foundUsers:o,disabled:t,processing:n,searchText:c,showResults:!!(null===o||void 0===o?void 0:o.length)||!!c.length,doSetSearchText:function(t){e(Object(r.h)(t))}}}},99:function(e,t,n){e.exports=n(128)}},[[99,1,2]]]);
//# sourceMappingURL=main.ad0447d0.chunk.js.map